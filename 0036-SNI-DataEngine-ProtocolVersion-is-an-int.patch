From 36586dacd06fbd2af89c88aa1ea2ea54790608f4 Mon Sep 17 00:00:00 2001
From: Kai Uwe Broulik <kde@privat.broulik.de>
Date: Sat, 2 Jan 2016 13:33:44 +0100
Subject: [PATCH 036/152] [SNI DataEngine] ProtocolVersion is an int

Obviously.

REVIEW: 126594
---
 dataengines/statusnotifieritem/statusnotifieritem_engine.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/dataengines/statusnotifieritem/statusnotifieritem_engine.cpp b/dataengines/statusnotifieritem/statusnotifieritem_engine.cpp
index 67c2ec5..08a8c86 100644
--- a/dataengines/statusnotifieritem/statusnotifieritem_engine.cpp
+++ b/dataengines/statusnotifieritem/statusnotifieritem_engine.cpp
@@ -90,7 +90,7 @@ void StatusNotifierItemEngine::registerWatcher(const QString& service)
         m_statusNotifierWatcher = new org::kde::StatusNotifierWatcher(s_watcherServiceName, QStringLiteral("/StatusNotifierWatcher"),
 								      QDBusConnection::sessionBus());
         if (m_statusNotifierWatcher->isValid() &&
-            m_statusNotifierWatcher->property("ProtocolVersion").toBool() == s_protocolVersion) {
+            m_statusNotifierWatcher->property("ProtocolVersion").toInt() == s_protocolVersion) {
             connect(m_statusNotifierWatcher, &OrgKdeStatusNotifierWatcherInterface::StatusNotifierItemRegistered, this, &StatusNotifierItemEngine::serviceRegistered);
             connect(m_statusNotifierWatcher, &OrgKdeStatusNotifierWatcherInterface::StatusNotifierItemUnregistered, this, &StatusNotifierItemEngine::serviceUnregistered);
 
-- 
2.5.0

